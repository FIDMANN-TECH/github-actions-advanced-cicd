# Advanced GitHub Actions CI/CD Pipeline with Docker & Render

This project demonstrates a **professional, end-to-end CI/CD pipeline** using **GitHub Actions**, **Docker**, and **Render.com**. It is designed to showcase advanced DevOps practices suitable for real-world production systems and portfolio presentation.

---

# ğŸš€ Project Overview

This repository contains:

* A fully automated **CI workflow** (build, lint, test, matrix strategy, artifact upload)
* A **Docker Build & Publish workflow**
* A **Render Deployment workflow** automatically triggered after Docker push
* A clean **DevOps folder structure**, including `.dockerignore`, PR templates, environment examples
* A professional-grade Dockerfile prepared for production

This pipeline covers the full CI â†’ Docker â†’ CD cycle.

---

# ğŸ“‚ Project Structure

```
.github/
  workflows/
    ci.yml                   # CI: build, test, lint, matrix, artifacts
    docker-publish.yml       # CD: build and push Docker image
    deploy-render.yml        # CD: trigger Render deployment
Dockerfile                   # Example Node.js Dockerfile
.dockerignore                # Excludes unnecessary files from Docker context
.env.example                 # Example environment variables
README.md                    # You are reading this
```

---

# ğŸ”§ Technologies Used

* **GitHub Actions** â€” CI/CD automation
* **Docker & Docker Hub** â€” containerization + registry
* **Render.com** â€” serverless container deployment (free tier)
* **Node.js** (example app) â€” language/runtime used in workflows
* **CI/CD Best Practices** â€” caching, matrix builds, PR templates, secrets management

---

# ğŸ“Œ CI Pipeline Summary (`ci.yml`)

This workflow runs on **push** and **pull_request** to `main` or `dev` branches.

### What it does:

* Runs on a **matrix** (Ubuntu + Windows, Node 18 + Node 20)
* Installs dependencies
* Runs linting
* Runs unit tests in CI mode
* Builds the project
* Uploads the build artifacts

### Key Features:

* **Matrix builds** â†’ tests code across environments
* **Caching** â†’ faster builds
* **Artifacts** â†’ downloadable build output
* **Fail-fast disabled** â†’ shows all failing matrix jobs

---

# ğŸ³ Docker Build & Push Pipeline (`docker-publish.yml`)

This workflow triggers when code is pushed to **main**.

### What it does:

* Builds a production Docker image using Buildx
* Supports multi-architecture builds via QEMU
* Logs in to Docker Hub via secrets
* Pushes two tags:

  * `latest`
  * `commit-sha`

### Requirements:

You must add the following GitHub Secrets:

* `DOCKERHUB_USERNAME`
* `DOCKERHUB_TOKEN`

---

# ğŸ” Render Deployment Pipeline (`deploy-render.yml`)

This workflow runs **after** Docker publishing completes successfully.

### What it does:

* Sends a POST request to Render Deploy Hook URL
* Tells Render to pull new Docker image and redeploy service

### Requirements:

* Add Render Deploy Hook as secret:

  * `RENDER_DEPLOY_HOOK`

---

# ğŸ” Required GitHub Secrets

| Secret Name          | Description                         |
| -------------------- | ----------------------------------- |
| `DOCKERHUB_USERNAME` | Docker Hub username                 |
| `DOCKERHUB_TOKEN`    | Docker Hub access token             |
| `RENDER_DEPLOY_HOOK` | URL generated by Render deploy hook |

---

# âš™ï¸ How to Run the Full CI/CD Pipeline

## 1. Clone repository

```bash
git clone git@github.com:<your-username>/github-actions-advanced-cicd.git
cd github-actions-advanced-cicd
```

## 2. Create and push CI setup branch

```bash
git checkout -b feature/ci-setup
git add .
git commit -m "chore(ci): add workflows, Dockerfile, CI docs"
git push -u origin feature/ci-setup
```

## 3. Create Pull Request

* PR triggers **CI workflow** automatically
* Review test + build results
* Merge when CI passes

## 4. Trigger Docker & Render workflows

* Push to `main` will:

  1. Build and push Docker image
  2. Trigger Render deployment

---

# ğŸ—ï¸ Dockerfile Summary

The included Dockerfile uses a multi-stage build:

1. **Builder stage** â€” Install dependencies & build app
2. **Production stage** â€” Copies built files and runs app

This improves:

* Security
* Image size
* Performance

---

# ğŸŒ Render Deployment Overview

Steps to deploy:

1. Go to **Render â†’ New â†’ Web Service**
2. Select your GitHub repo
3. Choose **Docker** environment
4. Disable auto-deploy (we use GitHub Actions instead)
5. Generate **Deploy Hook** URL
6. Add hook to GitHub Secrets as `RENDER_DEPLOY_HOOK`

Render will automatically deploy each time GitHub Actions POSTs to that hook.

---

# ğŸ“¸ Where to Take Screenshots (Instructor Requirements)

This README is structured to support your practical demonstration. Take screenshots at:

1. **Git Bash** â€“ initial commit & push
2. GitHub **Secrets Page**
3. GitHub **Branch Protection Rules**
4. **Create Pull Request** page
5. PR **checks running**
6. CI **workflow summary**
7. CI **logs** (lint/test/build)
8. CI **artifacts page**
9. **PR merged** successfully
10. **Docker build** workflow logs
11. **Docker Hub repository tags**
12. **Render service creation screen**
13. **Render deploy hook** screen
14. **GitHub secret RENDER_DEPLOY_HOOK** added
15. **Deploy to Render workflow run**
16. **Render deploy logs**
17. **Live Render URL working**
18. Optional: GitHub **Release page** with v1.0.0 tag

This sequence produces a complete professional evidence set for DevOps scoring.

---

# ğŸ“ Pull Request Template

This repository includes:

```
.github/PULL_REQUEST_TEMPLATE.md
```

Ensure meaningful PR descriptions for professional documentation.

---

# ğŸ§ª Testing the CI Locally (Optional)

Before pushing commits, validate locally:

```bash
npm ci
npm run lint
npm test
npm run build
```

Then test Docker:

```bash
docker build -t app:local .
docker run -p 8080:80 app:local
```

---

# ğŸ‰ Conclusion

With this setup, you now have:

* Full CI pipeline âœ”ï¸
* Docker image publishing âœ”ï¸
* Automated Render deployment âœ”ï¸
* Production-ready Dockerfile âœ”ï¸
* Professional GitHub repo best practices âœ”ï¸

This project showcases advanced DevOps workflow automation suitable for professional portfolios and job interviews.
